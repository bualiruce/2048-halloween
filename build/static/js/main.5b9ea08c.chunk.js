(this.webpackJsonp2048=this.webpackJsonp2048||[]).push([[0],{100:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t(23),c=t(5),o=t(7),i=t.n(o),l=t(8),s=t.n(l),u=t(4),f=t(11),d=t(2),m=i()((function(e){return s()({root:function(e){var n=e.x,t=e.y,a="(100% - 5 * 10px) / 4";return{position:"absolute",top:"calc(".concat(a,"  * ").concat(t," + 10px * ").concat(t+1,")"),left:"calc(".concat(a," * ").concat(n," + 10px * ").concat(n+1,")"),width:"calc(".concat(a,")"),height:"calc(".concat(a,")"),backgroundColor:"#bcaaa4",borderRadius:4}}})})),b=function(e){var n=e.x,t=e.y,a=m({x:n,y:t});return Object(d.jsx)("div",{className:"".concat(a.root," my-cell-style")})},j=["children"],v=i()((function(e){var n;return s()({root:(n={position:"relative",width:"50vw",maxWidth:640,height:"50vw",maxHeight:640},Object(f.a)(n,e.breakpoints.down("xs"),{width:"90vw",height:"90vw"}),Object(f.a)(n,"backgroundColor","#a1887f"),Object(f.a)(n,"borderRadius",4),n)})})),p=function(e){var n=e.children,t=Object(u.a)(e,j),a=v({}),r=Array(4).fill(Array(4).fill(null));return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",Object(c.a)(Object(c.a)({className:a.root},t),{},{children:[r.map((function(e,n){return e.map((function(e,t){return Object(d.jsx)(b,{x:n,y:t},"board-cell-".concat(n,"-").concat(t))}))})),n]}))})},g=t(43),h=t.n(g),x={"color-2":"#ff6666","color-4":"#ff9999","color-8":"#ff6633","color-16":"#ff9966","color-32":"#ff3300","color-64":"#ff6600","color-128":"#cc3333","color-256":"#cc6666","color-512":"#cc9966","color-1024":"#cc6600","color-2048":"#993333","color-4096":"#996666","color-8192":"#996699"},O=i()((function(e){var n="(100% - 5 * 10px) / 4";return s()({root:function(e){var t=e.x,a=e.y,r=e.value;return{position:"absolute",top:"calc(".concat(n,"  * ").concat(a," + 10px * ").concat(a+1,")"),left:"calc(".concat(n," * ").concat(t," + 10px * ").concat(t+1,")"),width:"calc(".concat(n,")"),height:"calc(".concat(n,")"),backgroundColor:x["color-".concat(r)],borderRadius:4,display:"flex",justifyContent:"center",alignItems:"center","& > *":{color:"white",userSelect:"none"}}}})})),y=function(e){var n=e.className,t=void 0===n?"":n,a=e.x,r=e.y,c=e.value,o=O({x:a,y:r,value:c});return Object(d.jsx)("div",{className:h()(o.root,t),children:Object(d.jsx)("h5",{children:c})})},w=i()((function(e){return s()({root:{transform:"scale(0)",animationFillMode:"forwards",animationTimingFunction:"cubic-bezier(0.25, 0, 0.5, 1)",animationName:"$zoomIn",animationDelay:"0.25s",animationDuration:"0.25s"},"@keyframes zoomIn":{from:{transform:"scale(0)"},to:{transform:"scale(1)"}}})})),D=function(e){var n=e.final,t=w({});return Object(d.jsx)(y,{className:t.root,x:n.x,y:n.y,value:n.value})},S=function(e){var n=e.from,t=e.final,a=e.hideAfterMove,r=void 0!==a&&a,c=function(e){var n=e.from,t=e.final;return i()((function(e){var a="(100% - 5 * 10px) / 4";return s()({"@keyframes move":{from:{top:"calc(".concat(a,"  * ").concat(n.y," + 10px * ").concat(n.y+1,")"),left:"calc(".concat(a," * ").concat(n.x," + 10px * ").concat(n.x+1,")")},to:{top:"calc(".concat(a,"  * ").concat(t.y," + 10px * ").concat(t.y+1,")"),left:"calc(".concat(a," * ").concat(t.x," + 10px * ").concat(t.x+1,")")}},"@keyframes zoomOut":{from:{transform:"scale(1)"},to:{transform:"scale(0)"}},move:{animationFillMode:"forwards",animationTimingFunction:"cubic-bezier(0.25, 0, 0.5, 1)",animationName:"$move",animationDelay:"0s",animationDuration:"0.25s"},moveAndHide:{animationFillMode:"forwards",animationTimingFunction:"cubic-bezier(0.25, 0, 0.5, 1)",animationName:"$move, $zoomOut",animationDelay:"0s, 0.25s",animationDuration:"0.25s, 0.25s"}})}))}({from:n,final:t})({});return Object(d.jsx)(y,{className:r?c.moveAndHide:c.move,x:t.x,y:t.y,value:t.value})},k=function(e){var n=e.from,t=e.to,a=e.final;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(S,{from:t,final:Object(c.a)(Object(c.a)({},a),{},{value:t.value}),hideAfterMove:!0}),Object(d.jsx)(S,{from:n,final:Object(c.a)(Object(c.a)({},a),{},{value:n.value}),hideAfterMove:!0}),Object(d.jsx)(D,{final:a})]})},N=t(115),T=i()((function(e){var n=e.spacing();return s()({contained:{margin:2*n,marginLeft:"auto",backgroundColor:"#ffa726","&:hover":{backgroundColor:"#fb8c00"}}})})),C=function(e){var n=e.onNewGame,t=T({});return Object(d.jsx)(N.a,{classes:{contained:t.contained},variant:"contained",color:"primary",onClick:n,children:"New Game"})},I=a.memo(C),M=t(113),R=i()((function(e){return s()({root:{display:"flex",justify:"space-between",alignItems:"center",flexWrap:"wrap",backgroundColor:"#ffffff40",padding:"20px 10px",borderRadius:"5px"},header:{marginBottom:e.spacing(2)},block:{minWidth:64,padding:8,backgroundColor:"#bcaaa4",borderRadius:4,display:"flex",flexDirection:"column",justify:"center",alignItems:"center","& > span":{color:"#efebe9"},"& > h6":{color:"white"}}})})),A=function(e){e.step,e.score,e.bestScore;var n=R({});return Object(d.jsx)("div",{className:"".concat(n.root," my-header"),children:Object(d.jsx)("div",{className:"".concat(n.header," my-title"),children:Object(d.jsx)(M.a,{variant:"h3",display:"inline",children:"2048 Halloween Game"})})})},F=a.memo(A),z=t(114),G=i()((function(e){return s()({root:{display:"flex",justify:"space-between",alignItems:"center",flexWrap:"wrap",backgroundColor:"#ffffff40",padding:"20px 10px",borderRadius:"5px",margin:"20px 0"},block:{minWidth:64,padding:8,backgroundColor:"#bcaaa4",borderRadius:4,display:"flex",flexDirection:"column",justify:"center",alignItems:"center","& > span":{color:"#efebe9"},"& > h6":{color:"white"}}})})),J=function(e){var n=e.step,t=e.score,r=e.bestScore,c=G({}),o=a.memo((function(e){var n=e.title,t=e.value;return Object(d.jsxs)("div",{className:c.block,children:[Object(d.jsx)(M.a,{variant:"caption",children:n}),Object(d.jsx)(M.a,{variant:"h6",children:t})]})}));return Object(d.jsx)("div",{className:"".concat(c.root," my-footer"),children:Object(d.jsxs)(z.a,{container:!0,className:"header-info",wrap:"nowrap",children:[Object(d.jsxs)("div",{className:"header-privacy ",children:[Object(d.jsx)("a",{href:"./privacy.html",className:"header-privacy__link makeStyles-block-5",children:"Privacy Policy"}),Object(d.jsx)("a",{href:"./about.html",className:"header-privacy__link makeStyles-block-5",children:"About Game"})]}),Object(d.jsxs)("div",{className:"header-score",children:[Object(d.jsx)(z.a,{item:!0,children:Object(d.jsx)(o,{title:"Step",value:n})}),Object(d.jsx)(z.a,{item:!0,children:Object(d.jsx)(o,{title:"Score",value:t})}),Object(d.jsx)(z.a,{item:!0,children:Object(d.jsx)(o,{title:"Best",value:r})})]})]})})},W=a.memo(J),Y=i()((function(e){return s()({root:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center","& > h4":{color:"white"}},animation:{transformOrigin:"center",animationFillMode:"forwards",animationTimingFunction:"ease-in-out",animationName:"$zoomIn",animationDelay:"0s",animationDuration:"0.55s"},"@keyframes zoomIn":{"0%":{transform:"scale(0)",borderRadius:"50%"},"50%":{borderRadius:"50%"},"100%":{transform:"scale(1)",borderRadius:"0%"}}})})),$=function(e){var n=e.isDone,t=Y({}),a=JSON.parse(localStorage.getItem("game-state")||"{}"),r=(a.grid,a.score),c=a.bestScore,o=a.step;return n?Object(d.jsx)("div",{className:h()(t.root,t.animation),children:Object(d.jsxs)(M.a,{variant:"h4",children:["Thanks for Playing. Your result",Object(d.jsxs)("p",{children:["Step: ",o]}),Object(d.jsxs)("p",{children:["Score: ",r]}),Object(d.jsxs)("p",{children:["Best Score: ",c]})]})}):null},B=t(14),E=function(){var e=Object(a.useState)(!1),n=Object(B.a)(e,2),t=n[0],r=n[1];return Object(a.useEffect)((function(){return r(!0),function(){r(!1)}}),[]),{isMount:t}},H=t.p+"static/media/move.cfb4529c.mp3",X=t.p+"static/media/gameover.2a4c01d5.mp3";function _(e){return void 0===e?(n=4,Array.from({length:n},(function(){return Array.from({length:n},(function(){return null}))}))):e.map((function(e,n){return e.map((function(e,t){if(null===e)return null;var a={x:t,y:n,value:e};return{id:(new Date).getTime(),from:null,to:null,final:a}}))}));var n}function P(e){return e.map((function(e){return e.map((function(e){return null===e?null:e.final.value}))}))}function L(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=e.map((function(e){return e.map((function(e){return e}))})),a=function(e){for(var n=[],t=0;t<e.length;t++)for(var a=0;a<e[t].length;a++)null===e[t][a]&&n.push([a,t]);return n}(t);if(a.length<n)return t;for(var r=0;r<n;r++){var c=Math.floor(Math.random()*a.length),o=Object(B.a)(a[c],2),i=o[0],l=o[1],s={x:i,y:l,value:2},u=(new Date).getTime();t[l][i]={id:u,from:null,to:s,final:s},a.splice(c,1)}return t}function U(e){var n=new Audio(e);console.log(n),n.play()}function q(e){return e.map((function(e){return e.map((function(e){return null===e?null:{id:(new Date).getTime(),from:null,to:null,final:Object(c.a)({},e.final)}}))}))}function K(e){U(X);for(var n=0;n<e.length;n++)for(var t=0;t<e[0].length;t++){var a=e[n][t];if(null===a)return!1;var r=n-1<0?void 0:e[n-1][t],c=t-1<0?void 0:e[n][t-1];if(void 0!==r||void 0!==c){if(void 0!==r&&r.final.value===a.final.value)return!1;if(void 0!==c&&c.final.value===a.final.value)return!1}}return!0}var Q="game-state";var V={initiated:!1,grid:null,score:0,bestScore:0,changing:!1,step:0,isDone:!1},Z=function(e,n){var t=Object(c.a)({},e);switch(n.type){case"init":t={initiated:!0,grid:n.grid,score:n.score,bestScore:n.score>e.bestScore?n.score:e.bestScore,changing:!1,step:n.step,isDone:n.isDone};break;case"set-grid":t.grid=n.grid;break;case"add-score":var a=e.score+n.score;t.score=a,t.bestScore=a>e.bestScore?a:e.bestScore;break;case"set-changing":var r=e.step;return n.changing&&r++,Object(c.a)(Object(c.a)({},e),{},{changing:n.changing,step:r});case"set-is-done":t.isDone=n.isDone;break;default:return e}return function(e,n,t,a){var r=JSON.stringify({grid:P(e),score:n,bestScore:t,step:a});localStorage.setItem(Q,r)}(t.grid,t.score,t.bestScore,t.step),t},ee=function(){var e=E().isMount,n=Object(a.useReducer)(Z,V),t=Object(B.a)(n,2),r=t[0],o=t[1];Object(a.useEffect)((function(){if(e&&!r.initiated){var n=null,t=0,a=0,c=0,i=!1,l=localStorage.getItem(Q);if(l){var s=JSON.parse(l);s&&(s.grid&&(n=_(s.grid)),s.score&&(t=s.score),s.bestScore&&(a=s.bestScore),s.step&&(c=s.step),s.isDone&&(i=s.isDone))}null===n&&(n=L(n=_(),2)),o({type:"init",grid:n,score:t,bestScore:a,step:c,isDone:i}),localStorage.setItem(Q,l)}}),[e,r.initiated]);var i=Object(a.useCallback)((function(){var e=_();e=L(e,2);var n=r.bestScore;o({type:"init",grid:e,score:0,bestScore:n,step:0,isDone:!1})}),[r.bestScore]),l=Object(a.useCallback)((function(e,n){if(!r.changing&&!r.isDone){var t=Math.abs(e)>Math.abs(n)?e>0?"right":"left":n>0?"down":"up",a=function(e,n){U(H);for(var t=e.map((function(e){return e.map((function(e){return e}))})),a=0,r=!1,o=0;o<4;o++)for(var i=0,l=0;l<4;){var s="up"===n?[o,i,o,l]:"down"===n?[o,3-i,o,3-l]:"left"===n?[i,o,l,o]:[3-i,o,3-l,o],u=Object(B.a)(s,4),f=u[0],d=u[1],m=u[2],b=u[3],j=t[b][m],v=t[d][f];if(null!==j)if(i!==l)if(null!==v)if(j.final.value!==v.final.value)i++;else{r||(r=!0);var p=j.final.value+v.final.value;a+=p;var g=(new Date).getTime(),h={x:f,y:d,value:p};t[d][f]={id:g,from:Object(c.a)({},j.final),to:Object(c.a)({},v.final),final:h},t[b][m]=null,i++,l++}else{r||(r=!0);var x=(new Date).getTime(),O={x:f,y:d,value:j.final.value};t[d][f]={id:x,from:Object(c.a)({},j.final),to:null,final:O},t[b][m]=null,l++}else{var y=(new Date).getTime(),w={x:f,y:d,value:j.final.value};t[d][f]={id:y,from:null,to:null,final:w},l++}else l++}return{score:a,changed:r,grid:t}}(r.grid,t),i=a.score,l=a.changed,s=a.grid;l?(s=L(s),o({type:"set-grid",grid:s}),o({type:"add-score",score:i}),o({type:"set-changing",changing:!0}),function(e){setTimeout((function(){o({type:"set-grid",grid:q(e)}),o({type:"set-changing",changing:!1})}),500)}(s)):o({type:"set-is-done",isDone:K(r.grid)})}}),[r.changing,r.grid,r.isDone]);return Object(c.a)(Object(c.a)({},r),{},{onNewGame:i,slideTo:l})},ne={isDown:!1,x:null,y:null},te=function(e,n){switch(n.type){case"reset":return ne;case"set-is-down":return Object(c.a)(Object(c.a)({},e),{},{isDown:!0,x:n.x,y:n.y});default:return e}},ae=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=Object(a.useReducer)(te,ne),r=Object(B.a)(t,2),c=r[0],o=r[1],i=function(n){if(n.preventDefault(),c.isDown){var t=n.screenX-c.x,a=n.screenY-c.y;o({type:"reset"}),e(t,a)}};return{onMouseDown:n?null:function(e){e.preventDefault(),o({type:"set-is-down",x:e.screenX,y:e.screenY})},onMouseUp:n?null:i,onMouseLeave:n?null:i,onTouchStart:n?null:function(e){e.preventDefault();var n=e.touches[0];n&&o({type:"set-is-down",x:n.screenX,y:n.screenY})},onTouchEnd:n?null:function(n){if(n.preventDefault(),c.isDown){var t=n.changedTouches[0];if(t){var a=t.screenX-c.x,r=t.screenY-c.y;e(a,r)}o({type:"reset"})}}}},re=i()((function(e){return s()({root:{display:"flex",justifyContent:"center","& > div":{display:"flex",alignItems:"center",flexDirection:"column"}},controller:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})})),ce=function(){var e=ee(),n=e.grid,t=e.score,a=e.bestScore,r=e.step,o=e.isDone,i=e.changing,l=e.onNewGame,s=e.slideTo,u=re({}),f=ae(s,i);return Object(d.jsx)("div",{className:u.root,children:Object(d.jsxs)("div",{children:[Object(d.jsx)(F,{step:r,score:t,bestScore:a}),Object(d.jsx)(I,{onNewGame:l}),Object(d.jsxs)(p,Object(c.a)(Object(c.a)({},f),{},{children:[null!==n&&n.map((function(e){return e.map((function(e){if(null===e)return null;var n=e.id,t=e.from,a=e.to,r=e.final,o="grid-cell-".concat(r.x,"-").concat(r.y,"-").concat(r.value,"-").concat(n);return null===t&&null!==a?Object(d.jsx)(D,{final:r},o):null!==t&&null===a?Object(d.jsx)(S,{from:t,final:r},o):null!==t&&null!==a?Object(d.jsx)(k,{from:t,to:a,final:r},o):Object(d.jsx)(y,Object(c.a)({},r),o)}))})),Object(d.jsx)($,{isDone:o})]})),Object(d.jsx)(W,{step:r,score:t,bestScore:a})]})})},oe=t(60),ie=function(){return Object(d.jsx)(oe.a,{children:Object(d.jsx)("title",{children:"2048 Game"})})};t(99);function le(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(ie,{}),Object(d.jsx)(ce,{})]})}var se=document.getElementById("root");Object(r.render)(Object(d.jsx)(le,{}),se)},99:function(e,n,t){}},[[100,1,2]]]);
//# sourceMappingURL=main.5b9ea08c.chunk.js.map